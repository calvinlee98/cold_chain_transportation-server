<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.server.dao.TransportDao">

    <resultMap id="BaseResultMap" type="TransportData">
        <result column="t_id" property="tId"/>
        <result column="cur_place" property="curPlace"/>
        <result column="cur_time" property="curTime"/>
        <result column="temperature" property="temperature"/>
    </resultMap>

    <insert id="log" parameterType="TransportData">
        insert into Default_.transports_logs(t_id, cur_place, temperature, cur_time)
        values (#{tId}, #{curPlace}, #{temperature}, #{curTime})
    </insert>

    <select id="getLogs" resultMap="BaseResultMap" parameterType="int" resultType="list">
        select *
        from Default_.transports_logs
        where t_id = #{tId}
    </select>


</mapper>